## 私有属性

私有属性以 `__` 作为前缀，外部无法引用,

实际 `__` 开头的属性在 内部被转化为`_<ClassName>_<attribute>` 的形式，所有无法引用

> example:

```python
import uuid

class Student(object):
    """
    a = Student('student1')
    print(a)
    print(a._Student__id)
    print('--------------------')
    a._Student__id == 2
    print(a)
    print(a._Student__id)
    print('--------------------')
    a.set_new_id()
    print(a)
    """    
    def __init__(self, name):
        self.__id = uuid.uuid4()
        self.name = name

    def __str__(self):
        return '<Demo {0}>'.format(self.__id)

    def set_new_id(self):
        self.__id = uuid.uuid4()


a = Student('student1')
print(a)
print(a._Student__id)
print('--------------------')
a._Student__id == 2
print(a)
print(a._Student__id)
print('--------------------')
a.set_new_id()
print(a)
```

output:

```
<Demo d66d2e6d-7b6a-41f0-a067-3d3ef729f114>
d66d2e6d-7b6a-41f0-a067-3d3ef729f114
--------------------
<Demo d66d2e6d-7b6a-41f0-a067-3d3ef729f114>
d66d2e6d-7b6a-41f0-a067-3d3ef729f114
--------------------
<Demo c6f9a404-fe57-4898-a73c-4900f48c254a>
```

## 魔法函数

> `__init__` 和`__getitem__`

```python
class Cards(object):

    def __init__(self, cards):
        self.cards = cards
    def __getitem__(self, item):
        return self.cards[item]

cards = Cards([1, 2, 3])
for card in cards:
    print(card)
```

> `__rept__` 和` __str__`

`__repr__`通过 repr 函数调用，或者%r、{!r}格式化调用；
`__str__`通过 str 函数调用，或者%s、{!s}格式化调用。
`print(user)`隐式调用对象字符串方法的，解析器会先找str方法，若未实现，再找repr。
`__repr__`针对开发人员；`__str__`针对普通用户

```python
class Cards(object):
    def __init__(self, cards):
        self.cards = cards
    def __getitem__(self, item):
        return self.cards[item]
	def __repr__(self):
        return "<Cards size={0}>".format(len(self.cards))
    def __str__(self):
        return ",".join([str(c) for c in self.cards])
    cards = Cards([1, 2, 3])

print(cards)
print('%s' % cards)
print('%r' % cards)
print('{0}'.format(cards))
print('{!r}'.format(cards))
```

结果：

```
1,2,3
1,2,3
<Cards size=3>
1,2,3
<Cards size=3>
[Finished in 0.2s]
```

## python2 中文编码错误

python2 使用 format 进行格式化时，由于编码格式是 ASCII 报错，Python3由于默认编码是 utf8，所以没有此问题）

> python3

```python
>>> import json
>>> hello_dict = json.loads('{"chinese": "你好", "english": "hello"}')
>>> print('{0}'.format(hello_dict['chinese']))
你好
```

> python2

```python
>>> import json
>>> hello_dict = json.loads('{"chinese": "你好", "english": "hello"}')
>>> print('{0}'.format(hello_dict['english']))
hello
>>> print('{0}'.format(hello_dict['chinese']))
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-1: ordinal not in range(128)
>>>
```

解决方法：设置默认编码格式为utf-8

```python
import sys

reload(sys)
sys.setdefaultencoding('utf-8')
```

## 内置类型

| 类型   | 说明                         |
| ---- | -------------------------- |
| None |                            |
| 数值   | int float complex(复数) bool |
| 迭代类型 | iterator                   |
| 序列   | bytes bytearray memoryview |
| 映射   | dict                       |
| 集合   | set  frozenset             |
| 上下文  | with                       |

## int 运算

```
+ - * / 
```

// 整除（对于大数，整数部分精度不丢失）

```
>>> 491555843274052692 / 10
4.915558432740527e+16

>>> 491555843274052692 // 10
49155584327405269
```

## 遍历

正向遍历：`for I in LIST`

逆向遍历 `reversed(LIST)`

